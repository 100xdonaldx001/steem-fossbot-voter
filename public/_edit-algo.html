<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Edit Algorithm - Voter</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/edit-algo.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Voter</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/index.html">Dashboard</a></li>
            <li><a href="https://github.com/evm2p/steem-fossbot-voter/blob/develop/docs/algorithm.md">Docs</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <h1 class="page-header">Edit Algorithm</h1>
      <!--h2 class="sub-header">Message</h2-->
      <div class="row">
        <div class="col-sm-4">
          <form class="form-add" action="/edit-algo" method="post">
            <label for="inputKey" class="sr-only">Key</label>
            <input type="text" name="key" id="inputKey" class="form-control" placeholder="Key" required autofocus>
            <label for="inputWeight" class="sr-only">Weight</label>
            <input type="number" step="0.01" name="weight" id="inputWeight" class="form-control" placeholder="Weight" required>
            <label for="inputLower" class="sr-only">Lower bound(optional)</label>
            <input type="number" name="lower" id="inputLower" class="form-control" placeholder="Lower bound(optional)">
            <label for="inputUpper" class="sr-only">Upper bound (optional)</label>
            <input type="number" name="upper" id="inputUpper" class="form-control" placeholder="Upper bound (optional)">
            <label for="inputApiKey" class="sr-only">Bot API key</label>
            <input type="password" name="api_key" id="inputApiKey" class="form-control" placeholder="Bot API key" required>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Add Rule</button>
          </form>
        </div>
      </div>

      <h2 class="sub-header">Rules</h2>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Key</th>
              <th>Value</th>
              <th>Lower</th>
              <th>Upper</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <th>
                <form class="form-add">
                  <input type="password" name="api_key" id="delete_api_key" placeholder="Key" required autofocus>
                </form>
              </th>
            <!--tr>
              <td>None</td>
              <td></td>
              <td>-</td>
              <td>-</td>
              <th><p><a class="btn btn-default" href="#" role="button"><strike>Delete<strike></a></p></th>
            </tr-->
            <!--tr>
              <td>test key 1</td>
              <td>test val 1</td>
              <td>-</td>
              <td>-</td>
              <th><p><a class="btn btn-default" href="#" role="button">Delete</a></p></th>
            </tr>
            <tr>
              <td>test key 2</td>
              <td>test val 2</td>
              <td>500</td>
              <td>2000</td>
              <th><p><a class="btn btn-default" href="#" role="button">Delete</a></p></th>
            </tr-->
          </tbody>
        </table>
      </div>

      <div class="row">
        <div class="col-sm-2">
          <form class="form-add">
            <input type="password" name="api_key" id="test_api_key" class="form-control" placeholder="Key" required autofocus>
          </form>
        </div>
        <div class="col-sm-2">
          <br/>
          <p><a class="btn btn-primary" role="button" href="javascript:test()">Test Algorithm (key required)</a></p>
        </div>
      </div>
      <h2 class="sub-header">Edit lists</h2>
      <div class="row">
        <div class="col-sm-4">
          <p><italic>Separate terms with spaces only</italic></p>
        </div>
        <!--div class="col-sm-4"> 
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="author_whitelist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Author whitelist</button>
          </form>
        </div>
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="author_blacklist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Author blacklist</button>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="content_category_whitelist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Content Category whitelist</button>
          </form>
        </div>
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="content_category_blacklist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Content Category blacklist</button>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="content_word_whitelist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Content Word whitelist</button>
          </form>
        </div>
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="content_word_blacklist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Content Word blacklist</button>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="domain_whitelist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Domain whitelist</button>
          </form>
        </div>
        <div class="col-sm-4">
          <form class="form-list" action="/edit-algo">
            <label for="inputKey" class="sr-only"></label>
            <textarea name="domain_blacklist" cols="60" rows="3"></textarea>
            <button class="btn btn-lg btn-primary btn-block" type="submit" value="POST">Update Domain blacklist</button>
          </form>
        </div-->
      </div>

      <h2 class="sub-header">Keys Reference</h2>
      <p>See the <a href="https://github.com/evm2p/steem-fossbot-voter/blob/develop/docs/algorithm.md">algorithm and metrics docs</a> for more details</p>
      <p>Note that all boolean data types are intepreted numerically as false = 0, true = 1</p>
      <div class="table-responsive">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Key</th>
              <th>Category</th>
              <th>Sub Category</th>
              <th>Data Type *</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <!-- Strategic metrics -->
            <!-- bot owner -->
            <tr>
              <td>owner_num_votes_today</td>
              <td>Strategic</td>
              <td>Bot Owner</td>
              <td>Numeric</td>
              <th><p>Number of votes today</p></th>
            </tr>
            <tr>
              <td>owner_last_post_time</td>
              <td>Strategic</td>
              <td>Bot Owner</td>
              <td>Numeric</td>
              <th><p>Time since last post in minutes</p></th>
            </tr>
            <!-- post -->
            <tr>
              <td>post_alive_time</td>
              <td>Strategic</td>
              <td>Post</td>
              <td>Numeric</td>
              <th><p>Time since post, in minutes</p></th>
            </tr>
            <tr>
              <td>post_est_payout</td>
              <td>Strategic</td>
              <td>Post</td>
              <td>Numeric</td>
              <th><p>Estimated payout</p></th>
            </tr>
            <tr>
              <td>post_num_votes</td>
              <td>Strategic</td>
              <td>Post</td>
              <td>Numeric</td>
              <th><p>Number of votes</p></th>
            </tr>
            <!-- post details -->
            <!-- numeric -->
            <tr>
              <td>post_voted_num_dolphin</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Numeric</td>
              <th><p>Number of voters with captial category dolphin who voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_num_whale</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Numeric</td>
              <th><p>Number of voters with captial category whale who voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_num_followed</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Numeric</td>
              <th><p>Number of followed voters who voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_num_whitelisted</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Numeric</td>
              <th><p>Number of whitelisted voters who voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_num_blacklisted</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Numeric</td>
              <th><p>Number of blacklisted voters who voted on post</p></th>
            </tr>
            <!-- boolean -->
            <tr>
              <td>post_voted_any_dolphin</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Boolean</td>
              <th><p>At least one voter with captial category dolphin as voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_any_whale</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Boolean</td>
              <th><p>At least one voter with captial category whale as voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_any_followed</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Boolean</td>
              <th><p> At least one followed voter voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_any_whitelisted</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Boolean</td>
              <th><p>At least one whitelist voter voted on post</p></th>
            </tr>
            <tr>
              <td>post_voted_any_blacklisted</td>
              <td>Strategic</td>
              <td>Post Detail</td>
              <td>Boolean</td>
              <th><p>AAt least one blacklist voter voted on post</p></th>
            </tr>
            <!-- post details -->
            <!-- numeric -->
            <tr>
              <td>author_capital_val</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Numeric</td>
              <th><p>Capital (Steem Power) by value</p></th>
            </tr>
            <!-- boolean -->
            <tr>
              <td>author_is_minnow</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Boolean</td>
              <th><p>Capital category is minnow</p></th>
            </tr>
            <tr>
              <td>author_is_dolphin</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Boolean</td>
              <th><p>Capital category is dolphin</p></th>
            </tr>
            <tr>
              <td>author_is_whale</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Boolean</td>
              <th><p>Capital category is whale</p></th>
            </tr>
            <tr>
              <td>author_is_followed</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Boolean</td>
              <th><p>Author is followed</p></th>
            </tr>
            <tr>
              <td>author_is_whitelisted</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Boolean</td>
              <th><p>Presence of author on whitelist</p></th>
            </tr>
            <tr>
              <td>author_is_blacklisted</td>
              <td>Strategic</td>
              <td>Author of Post</td>
              <td>Boolean</td>
              <th><p>Presence of author on blacklist</p></th>
            </tr>
            <!-- Cultural metrics -->
            <!-- Content text -->
            <tr>
              <td>post_num_chars</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Post length in characters</p></th>
            </tr>
            <tr>
              <td>post_num_words</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Post length in words</p></th>
            </tr>
            <tr>
              <td>post_sentiment_val</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Sentiment / emotional score</p></th>
            </tr>
            <tr>
              <td>post_num_tags_whitelisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Number of whitelisted tags (uses content word lists)</p></th>
            </tr>
            <tr>
              <td>post_num_tags_blacklisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Number of blacklisted tags (uses content word lists)</p></th>
            </tr>
            <tr>
              <td>post_num_keywords_whitelisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Number of unique whitelisted keywords</p></th>
            </tr>
            <tr>
              <td>post_num_keywords_blacklisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Number of unique blacklisted keywords</p></th>
            </tr>
            <tr>
              <td>post_num_words_whitelisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Number of unique whitelist words in entire content text</p></th>
            </tr>
            <tr>
              <td>post_num_words_blacklisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Numeric</td>
              <th><p>Number of unique blacklist words in entire content text</p></th>
            </tr>
            <!-- boolean -->
            <tr>
              <td>post_category_whitelisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Boolean</td>
              <th><p>Category (sub-steem) on whitelist</p></th>
            </tr>
            <tr>
              <td>post_category_blacklisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Boolean</td>
              <th><p>Category (sub-steem) on blacklist</p></th>
            </tr>
            <tr>
              <td>post_any_tag_whitelisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Boolean</td>
              <th><p>Any tag on whitelist</p></th>
            </tr>
            <tr>
              <td>post_any_tag_blacklisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Boolean</td>
              <th><p>Any tag on blacklist</p></th>
            </tr>
            <tr>
              <td>post_any_keyword_whitelisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Boolean</td>
              <th><p>Any keyword on whitelist</p></th>
            </tr>
            <tr>
              <td>post_any_keyword_blacklisted</td>
              <td>Cultural</td>
              <td>Content text</td>
              <td>Boolean</td>
              <th><p>Any keyword on blacklist</p></th>
            </tr>
            <!-- Content link -->
            <!-- numeric -->
            <tr>
              <td>post_num_links_video</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Numeric</td>
              <th><p>Number of video links</p></th>
            </tr>
            <tr>
              <td>post_num_links_image</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Numeric</td>
              <th><p>Number of image links</p></th>
            </tr>
            <tr>
              <td>post_num_links_page</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Numeric</td>
              <th><p>Number of webpage links</p></th>
            </tr>
            <tr>
              <td>post_num_links_total</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Numeric</td>
              <th><p>Total number of links</p></th>
            </tr>
            <tr>
              <td>post_num_link_domains_whitelisted</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Numeric</td>
              <th><p>Number of link domains on whitelist</p></th>
            </tr>
            <tr>
              <td>post_num_link_domains_blacklisted</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Numeric</td>
              <th><p>Number of link domains on blacklist</p></th>
            </tr>
            <!-- boolean -->
            <tr>
              <td>post_any_link_domains_whitelisted</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Boolean</td>
              <th><p>Any link domains on whitelist</p></th>
            </tr>
            <tr>
              <td>post_any_link_domains_blacklisted</td>
              <td>Cultural</td>
              <td>Content links</td>
              <td>Boolean</td>
              <th><p>Any link domains on blacklist</p></th>
            </tr>
            <!-- Author -->
            <!-- numeric -->
            <tr>
              <td>author_repuation</td>
              <td>Cultural</td>
              <td>Author</td>
              <td>Numeric</td>
              <th><p>Reputation (Stemit version, not direct from blockchain)</p></th>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/edit-algo.js"></script>
  </body>
</html>
